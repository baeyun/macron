<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    * {
        font-family:  "Trebuchet MS", sans-serif;
    }
    input, textarea {
      border: 2px solid #1565C0;
      background: #C5E1A5;
      padding:  10px 20px;
      border-radius: 5px;
      font-size: 20px;
    }
    div > * {
      display:  block;
      margin: 20px auto;
    }

    textarea {
      width:  25%;
      height:  150px;
    }

    button {
      background: #BBDEFB;
      padding:  10px 20px;
      border: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>Hello World</h1>
  <div id="root">
    <button id="print">Print to console</button>
    <button id="clear">Clear console</button>
    <button id="open-file">Open File</button>
    <button id="create-window">Create new window</button>
    <button id="close-window">Close window</button>
    <button id="quit">Quit</button>

    <div style="background-color: burlywood">
      <input type="text" id="filename" placeholder="Enter file name" value="config.js">
      <textarea id="file-contents" placeholder="Enter file contents"></textarea>
      <button id="save">Save</button>
    </div>
  </div>

  <script>
    document.getElementById("save").onclick = function() {
      pywebview.api.write_file({
        filePath: "C:/Users/bukharim96/Desktop/config.js",
        content:
          "const { app } = require('macron');\n" +
          "app.on('ready', (nativeEvent) => app.Windows.instantiate('Hello, World!'))"
      });
    }

    document.getElementById("print").onclick = function() {
      pywebview.api.log({toLog: JSON.stringify(pywebview)});
    }

    document.getElementById("clear").onclick = function() {
      pywebview.api.clear();
    }

    document.getElementById("create-window").onclick = function() {
      window.appUID = pywebview.api.create_window({
        title: "JavaScriptWindow",
        url: "",
        minWidth: 300,
        minHeight: 300,
        userSelect: true
      });
    }

    document.getElementById("close-window").onclick = function() {
      pywebview.api.close_window();
    }

    document.getElementById("open-file").onclick = function() {
      var f = pywebview.api.open_file_dialog({
        dialogType: "OPEN_FILE",
        allowMultipleFiles: true,
        fileTypes: ['JavaScript Files (*.js;*.hc)', 'All files (*.*)']
      });

      alert(JSON.stringify(pywebview.api))
    }
    
    document.getElementById("quit").onclick = function() {
      pywebview.api.quit_application();
    }
  </script>

</body>
</html>